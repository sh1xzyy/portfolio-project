{"version":3,"file":"index.js","sources":["../src/js/refs/refs.js","../src/js/render-functions/render-functions.js","../src/js/components/projects.js","../src/js/api/api-service.js","../src/js/components/reviews.js","../src/main.js"],"sourcesContent":["export const refs = {\n  projectsList: document.querySelector(\".projects-list\"),\n  loadMoreBtn: document.querySelector(\"#loadMoreBtn\"),\n  list: document.querySelector('.swiper-wrapper'),\n  buttons: document.querySelector('.swiper-buttons'),\n  errorMsg: document.querySelector('.review-not-found'),\n};","import { refs } from '../refs/refs';\n\nconst createReviewMarkup = ({ author, avatar_url, review }) => {\n  return `\n  <li class=\"swiper-slide\">\n    <p class=\"swiper-description\" tabindex=\"-1\">${review}</p>\n    <div class=\"swiper-user-info\">\n      <img\n        class=\"swiper-user-img\"\n        src=\"${avatar_url}\"\n        alt=\"${author}\"\n        width=\"40\"\n        height=\"40\"\n      />\n      <h3 class=\"swiper-user-name\">${author}</h3>\n    </div>\n  </li>`;\n};\n\nconst createProjectMarkup = ({ title, url1, url2, technologies }) => {\n  return `\n    <li class=\"projects-list-item\">\n      <img class=\"projects-img\" src=\"${url1}\" alt=\"${title}\" srcset=\"${url1} 1x, ${url2} 2x\" loading=\"lazy\">\n      <p class=\"projects-technologies\">${technologies}</p>\n      <div class=\"projects-container\">\n        <h3 class=\"projects-name\">${title}</h3>\n        <div class=\"projects-link-wrapper\">\n          <a href=\"#\" class=\"projects-visit-link\">visit\n            <svg class=\"projects-visit-svg\">\n              <use href=\"./img/icons.svg#visit-arrow\"></use>\n            </svg>\n          </a>\n        </div>\n      </div>\n    </li>\n  `;\n};\n\nexport const renderMarkup = data => {\n  const markup = data.map(createReviewMarkup).join('');\n  refs.list.insertAdjacentHTML('beforeend', markup);\n};\n\nexport const renderProjectsMarkup = data => {\n  const markup = data.map(createProjectMarkup).join('');\n  refs.projectsList.insertAdjacentHTML('beforeend', markup);\n};\n","import { renderProjectsMarkup } from '../render-functions/render-functions';\nimport projects from '../../json/projects.json';\nimport { refs } from '../refs/refs';\n\nlet startIndex = 0;\nlet endIndex = 3;\n\nexport const initProjectItems = () => {\n  endIndex = 3;\n  renderProjectsMarkup(projects.slice(startIndex, endIndex));\n};\n\nexport const onLoadMoreBtnClick = event => {\n  startIndex += 3;\n  endIndex += 3;\n  renderProjectsMarkup(projects.slice(startIndex, endIndex));\n\n  const item = document\n    .querySelector('.projects-list-item')\n    .getBoundingClientRect();\n  window.scrollBy({\n    top: item.height * 1.2,\n    behavior: 'smooth',\n  });\n\n  if (endIndex >= projects.length) {\n    event.currentTarget.style.display = 'none';\n    refs.loadMoreBtn.removeEventListener('click', onLoadMoreBtnClick);\n  }\n};\n\nrefs.loadMoreBtn.addEventListener('click', onLoadMoreBtnClick);\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://portfolio-js.b.goit.study/api';\n\nexport const getReviews = async () => {\n  try {\n    const response = await axios.get(\"/reviews/\");\n    return response.data;\n  } catch (error) {\n    console.log('Something went wrong with receiving feedback');\n    throw error;\n  }\n};","import { renderMarkup } from '../render-functions/render-functions';\nimport { Keyboard, Navigation } from 'swiper/modules';\nimport { getReviews } from '../api/api-service';\nimport { refs } from \"../refs/refs\"\nimport iziToast from 'izitoast';\nimport Swiper from 'swiper';\n\n\nconst initSwiper = () => {\n  const swiper = new Swiper('.swiper', {\n    modules: [Navigation, Keyboard],\n    spaceBetween: 32,\n    navigation: {\n      nextEl: '.swiper-button-next',\n      prevEl: '.swiper-button-prev',\n    },\n    keyboard: {\n      enabled: true,\n      onlyInViewport: false,\n    },\n    breakpoints: {\n      1280: {\n        slidesPerView: 2,\n      },\n      0: {\n        slidesPerView: 1,\n      },\n    },\n    allowSlideNext: true,\n  });\n};\n\nexport const swiperLogic = async () => {\n  try {\n    const data = await getReviews();\n\n    if (!data.length) {\n      refs.buttons.classList.add('is-hidden');\n      refs.errorMsg.classList.remove('is-hidden');\n      return;\n    }\n\n    renderMarkup(data);\n    initSwiper();\n  } catch (error) {\n    iziToast.error({\n      position: 'topRight',\n      progressBarColor: '#B51B1B',\n      message: 'Something went wrong while loading review',\n      messageColor: '#FAFAFB',\n      backgroundColor: '#EF4040',\n    });\n    refs.buttons.classList.add('is-hidden');\n    refs.errorMsg.classList.remove('is-hidden');\n  }\n};","import { initProjectItems } from \"./js/components/projects\";\nimport { swiperLogic } from \"./js/components/reviews\";\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n    initProjectItems()\n    swiperLogic()\n})\n"],"names":["refs","createReviewMarkup","author","avatar_url","review","createProjectMarkup","title","url1","url2","technologies","renderMarkup","data","markup","renderProjectsMarkup","startIndex","endIndex","initProjectItems","projects","onLoadMoreBtnClick","event","item","axios","getReviews","error","initSwiper","Swiper","Navigation","Keyboard","swiperLogic","iziToast"],"mappings":"kxBAAO,MAAMA,EAAO,CAClB,aAAc,SAAS,cAAc,gBAAgB,EACrD,YAAa,SAAS,cAAc,cAAc,EAClD,KAAM,SAAS,cAAc,iBAAiB,EAC9C,QAAS,SAAS,cAAc,iBAAiB,EACjD,SAAU,SAAS,cAAc,mBAAmB,CACtD,ECJMC,EAAqB,CAAC,CAAE,OAAAC,EAAQ,WAAAC,EAAY,OAAAC,CAAM,IAC/C;AAAA;AAAA,kDAEyCA,CAAM;AAAA;AAAA;AAAA;AAAA,eAIzCD,CAAU;AAAA,eACVD,CAAM;AAAA;AAAA;AAAA;AAAA,qCAIgBA,CAAM;AAAA;AAAA,SAKrCG,EAAsB,CAAC,CAAE,MAAAC,EAAO,KAAAC,EAAM,KAAAC,EAAM,aAAAC,CAAY,IACrD;AAAA;AAAA,uCAE8BF,CAAI,UAAUD,CAAK,aAAaC,CAAI,QAAQC,CAAI;AAAA,yCAC9CC,CAAY;AAAA;AAAA,oCAEjBH,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAa5BI,EAAeC,GAAQ,CAClC,MAAMC,EAASD,EAAK,IAAIV,CAAkB,EAAE,KAAK,EAAE,EACnDD,EAAK,KAAK,mBAAmB,YAAaY,CAAM,CAClD,EAEaC,EAAuBF,GAAQ,CAC1C,MAAMC,EAASD,EAAK,IAAIN,CAAmB,EAAE,KAAK,EAAE,EACpDL,EAAK,aAAa,mBAAmB,YAAaY,CAAM,CAC1D,8sDC1CA,IAAIE,EAAa,EACbC,EAAW,EAER,MAAMC,EAAmB,IAAM,CACpCD,EAAW,EACXF,EAAqBI,EAAS,MAAMH,EAAYC,CAAQ,CAAC,CAC3D,EAEaG,EAAqBC,GAAS,CACzCL,GAAc,EACdC,GAAY,EACZF,EAAqBI,EAAS,MAAMH,EAAYC,CAAQ,CAAC,EAEzD,MAAMK,EAAO,SACV,cAAc,qBAAqB,EACnC,wBACH,OAAO,SAAS,CACd,IAAKA,EAAK,OAAS,IACnB,SAAU,QACd,CAAG,EAEGL,GAAYE,EAAS,SACvBE,EAAM,cAAc,MAAM,QAAU,OACpCnB,EAAK,YAAY,oBAAoB,QAASkB,CAAkB,EAEpE,EAEAlB,EAAK,YAAY,iBAAiB,QAASkB,CAAkB,EC7B7DG,EAAM,SAAS,QAAU,wCAElB,MAAMC,EAAa,SAAY,CACpC,GAAI,CAEF,OADiB,MAAMD,EAAM,IAAI,WAAW,GAC5B,IACjB,OAAQE,EAAO,CACd,cAAQ,IAAI,8CAA8C,EACpDA,CACP,CACH,ECJMC,EAAa,IAAM,CACR,IAAIC,EAAO,UAAW,CACnC,QAAS,CAACC,EAAYC,CAAQ,EAC9B,aAAc,GACd,WAAY,CACV,OAAQ,sBACR,OAAQ,qBACT,EACD,SAAU,CACR,QAAS,GACT,eAAgB,EACjB,EACD,YAAa,CACX,KAAM,CACJ,cAAe,CAChB,EACD,EAAG,CACD,cAAe,CAChB,CACF,EACD,eAAgB,EACpB,CAAG,CACH,EAEaC,EAAc,SAAY,CACrC,GAAI,CACF,MAAMjB,EAAO,MAAMW,IAEnB,GAAI,CAACX,EAAK,OAAQ,CAChBX,EAAK,QAAQ,UAAU,IAAI,WAAW,EACtCA,EAAK,SAAS,UAAU,OAAO,WAAW,EAC1C,MACD,CAEDU,EAAaC,CAAI,EACjBa,GACD,MAAe,CACdK,EAAS,MAAM,CACb,SAAU,WACV,iBAAkB,UAClB,QAAS,4CACT,aAAc,UACd,gBAAiB,SACvB,CAAK,EACD7B,EAAK,QAAQ,UAAU,IAAI,WAAW,EACtCA,EAAK,SAAS,UAAU,OAAO,WAAW,CAC3C,CACH,ECpDA,SAAS,iBAAiB,mBAAoB,IAAM,CAChDgB,EAAkB,EAClBY,EAAa,CACjB,CAAC"}