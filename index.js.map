{"version":3,"file":"index.js","sources":["../src/js/api/api-service.js","../src/js/refs/refs.js","../src/js/components/contactForm.js","../src/js/components/themeSwitcher.js","../src/js/components/mobileMenu.js","../src/js/render-functions/render-functions.js","../src/js/components/projects.js","../src/js/components/reviews.js","../src/js/components/accordion.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://portfolio-js.b.goit.study/api';\n\nexport const getReviews = async () => {\n  try {\n    const response = await axios.get('/reviews/');\n    return response.data;\n  } catch (error) {\n    console.log('Something went wrong with receiving feedback');\n    throw error;\n  }\n};\n\nexport const sendContactForm = async data => {\n  try {\n    const response = await axios.post('/requests/', data);\n    return response.data;\n  } catch (error) {\n    console.log('Something went wrong with posting data');\n    throw error;\n  }\n};\n","export const refs = {\n  body: document.querySelector('body'),\n  projectsList: document.querySelector('.projects-list'),\n  loadMoreBtn: document.querySelector('#loadMoreBtn'),\n  contactForm: document.querySelector('.contact-form'),\n  list: document.querySelector('.swiper-wrapper'),\n  buttons: document.querySelector('.swiper-buttons'),\n  errorMsg: document.querySelector('.review-not-found'),\n  inputWrapper: document.querySelector('.input-wrapper'),\n  textareaWrapper: document.querySelector('.textarea-wrapper'),\n  modalOverlay: document.querySelector('.modal-overlay'),\n  burgerMenuBtn: document.querySelector('#burgerMenu'),\n  menuOverlay: document.querySelector('.menu-overlay'),\n  themeSwitchBtn: document.querySelector('#themeSwitchBtn'),\n};\n","import { sendContactForm } from '../api/api-service';\nimport { refs } from '../refs/refs';\nimport iziToast from 'izitoast';\n\nexport const onContactFormSubmit = async event => {\n  event.preventDefault();\n\n  const form = event.target;\n  const emailValue = form.elements.userEmail.value.trim();\n  const messageValue = form.elements.userMessage.value.trim();\n\n  const isEmailValid =\n    emailValue.endsWith('@gmail.com') && emailValue.length > 10;\n  const isMessageValid = messageValue.length > 5;\n\n  if (!isEmailValid) refs.inputWrapper.classList.add('is-error');\n  if (!isMessageValid) refs.textareaWrapper.classList.add('is-error');\n\n  if (!isEmailValid || !isMessageValid) return;\n\n  try {\n    await sendContactForm({ email: emailValue, comment: messageValue });\n    refs.modalOverlay.classList.add('is-open');\n    refs.body.classList.add('no-scroll');\n    refs.inputWrapper.classList.remove('is-correct');\n    refs.modalOverlay.addEventListener('click', modalOverlayClose);\n    document.addEventListener('keydown', onHandleEscapeKey);\n    form.reset();\n  } catch (error) {\n    iziToast.error({\n      position: 'topRight',\n      progressBarColor: '#B51B1B',\n      message: 'Something went wrong with posting form',\n      messageColor: '#FAFAFB',\n      backgroundColor: '#EF4040',\n    });\n  }\n};\n\nexport const onContactFormInput = event => {\n  const input = event.target;\n\n  if (input.id === 'userEmail') {\n    const isEmailValid =\n      input.value.endsWith('@gmail.com') && input.value.length > 10;\n    refs.inputWrapper.classList.toggle('is-correct', isEmailValid);\n    refs.inputWrapper.classList.toggle('is-error', !isEmailValid);\n  }\n  if (input.id === 'userMessage') {\n    const isMessageValid = input.value.length > 5;\n    refs.textareaWrapper.classList.toggle('is-error', !isMessageValid);\n  }\n};\n\nconst modalOverlayClose = event => {\n  if (\n    event.target === event.currentTarget ||\n    event.target.closest('#modalCloseBtn')\n  ) {\n    closeModal();\n    refs.modalOverlay.removeEventListener('click', modalOverlayClose);\n  }\n};\n\nconst onHandleEscapeKey = event => {\n  if (event.key === 'Escape') {\n    closeModal();\n    document.removeEventListener('keydown', onHandleEscapeKey);\n  }\n};\n\nconst closeModal = () => {\n  refs.modalOverlay.classList.remove('is-open');\n  refs.body.classList.remove('no-scroll');\n};\n","import { refs } from '../refs/refs';\n\nexport const onThemeSwitchBtnClick = ({ target }) => {\n  const theme = target.checked ? 'dark' : 'light';\n  localStorage.setItem('userTheme', theme);\n  applyTheme(theme);\n};\n\nexport const userThemes = () => {\n  const savedTheme = localStorage.getItem('userTheme') || 'light';\n  refs.themeSwitchBtn.checked = savedTheme === 'dark';\n  applyTheme(savedTheme);\n};\n\nconst applyTheme = theme => {\n  refs.body.classList.toggle('theme-dark', theme === 'dark');\n  refs.body.classList.toggle('theme-light', theme === 'light');\n};\n","import { refs } from '../refs/refs';\n\nexport const onBurgerMenuClick = () => {\n  refs.menuOverlay.classList.add('is-open');\n  refs.body.classList.add('no-scroll');\n\n  refs.menuOverlay.addEventListener('click', onMenuOverlayClick);\n};\n\nconst onMenuOverlayClick = ({ target }) => {\n  if (target.closest('#menuCloseBtn')) {\n    removeClass();\n  }\n\n  if (target.closest('.menu-list-item')) {\n    removeClass();\n  }\n};\n\nconst removeClass = () => {\n  refs.menuOverlay.classList.remove('is-open');\n  refs.body.classList.remove('no-scroll');\n  refs.menuOverlay.removeEventListener('click', onMenuOverlayClick);\n};\n","import { refs } from '../refs/refs';\n\nconst createReviewMarkup = ({ author, avatar_url, review }) => {\n  return `\n  <li class=\"swiper-slide\">\n    <p class=\"swiper-description\" tabindex=\"-1\">${review}</p>\n    <div class=\"swiper-user-info\">\n      <img\n        class=\"swiper-user-img\"\n        src=\"${avatar_url}\"\n        alt=\"${author}\"\n        width=\"40\"\n        height=\"40\"\n        loading=\"lazy\"\n      />\n      <h3 class=\"swiper-user-name\">${author}</h3>\n    </div>\n  </li>`;\n};\n\nconst createProjectMarkup = ({ title, url1, url2, technologies }) => {\n  return `\n    <li class=\"projects-list-item\">\n      <img class=\"projects-img\" src=\"${url1}\" srcset=\"${url1} 1x, ${url2} 2x\" alt=\"${title}\" loading=\"lazy\">\n      <p class=\"projects-technologies\">${technologies}</p>\n      <div class=\"projects-container\">\n        <h3 class=\"projects-name\">${title}</h3>\n        <div class=\"projects-link-wrapper\">\n          <a href=\"#\" class=\"projects-visit-link\">visit\n            <svg class=\"projects-visit-svg\">\n              <use href=\"./img/icons.svg#visit-arrow\"></use>\n            </svg>\n          </a>\n        </div>\n      </div>\n    </li>\n  `;\n};\n\nexport const renderMarkup = data => {\n  const markup = data.map(createReviewMarkup).join('');\n  refs.list.insertAdjacentHTML('beforeend', markup);\n};\n\nexport const renderProjectsMarkup = data => {\n  const markup = data.map(createProjectMarkup).join('');\n  refs.projectsList.insertAdjacentHTML('beforeend', markup);\n};\n","import { renderProjectsMarkup } from '../render-functions/render-functions';\nimport projects from '../../json/projects.json';\nimport { refs } from '../refs/refs';\n\nlet startIndex = 0;\nlet endIndex = 3;\n\nexport const initProjectItems = () => {\n  endIndex = 3;\n  renderProjectsMarkup(projects.slice(startIndex, endIndex));\n};\n\nexport const onLoadMoreBtnClick = event => {\n  startIndex += 3;\n  endIndex += 3;\n  renderProjectsMarkup(projects.slice(startIndex, endIndex));\n\n  const item = document\n    .querySelector('.projects-list-item')\n    .getBoundingClientRect();\n  window.scrollBy({\n    top: item.height,\n    behavior: 'smooth',\n  });\n\n  if (endIndex >= projects.length) {\n    event.currentTarget.style.display = 'none';\n    refs.loadMoreBtn.removeEventListener('click', onLoadMoreBtnClick);\n  }\n};\n\nrefs.loadMoreBtn.addEventListener('click', onLoadMoreBtnClick);\n","import { renderMarkup } from '../render-functions/render-functions';\nimport { Keyboard, Navigation } from 'swiper/modules';\nimport { getReviews } from '../api/api-service';\nimport { refs } from \"../refs/refs\"\nimport iziToast from 'izitoast';\nimport Swiper from 'swiper';\n\n\nconst initSwiper = () => {\n  const swiper = new Swiper('.swiper', {\n    modules: [Navigation, Keyboard],\n    spaceBetween: 32,\n    navigation: {\n      nextEl: '.swiper-button-next',\n      prevEl: '.swiper-button-prev',\n    },\n    keyboard: {\n      enabled: true,\n      onlyInViewport: false,\n    },\n    breakpoints: {\n      1280: {\n        slidesPerView: 2,\n      },\n      0: {\n        slidesPerView: 1,\n      },\n    },\n    allowSlideNext: true,\n  });\n};\n\nexport const swiperLogic = async () => {\n  try {\n    const data = await getReviews();\n\n    if (!data.length) {\n      refs.buttons.classList.add('is-hidden');\n      refs.errorMsg.classList.remove('is-hidden');\n      return;\n    }\n\n    renderMarkup(data);\n    initSwiper();\n  } catch (error) {\n    iziToast.error({\n      position: 'topRight',\n      progressBarColor: '#B51B1B',\n      message: 'Something went wrong while loading review',\n      messageColor: '#FAFAFB',\n      backgroundColor: '#EF4040',\n    });\n    refs.buttons.classList.add('is-hidden');\n    refs.errorMsg.classList.remove('is-hidden');\n  }\n};","export const accordion = () => {\n  const accordion = document.querySelectorAll('.faq-list-item');\n\n  accordion.forEach(item => {\n    item.addEventListener('click', ({ target }) => {\n      const li = target.closest('li');\n      const check = document.querySelector('.is-active');\n      li.classList.toggle('is-active');\n\n      if (check) {\n        check.classList.remove('is-active');\n      }\n    });\n  });\n};\n","import {\n  onContactFormInput,\n  onContactFormSubmit,\n} from './js/components/contactForm';\nimport {\n  onThemeSwitchBtnClick,\n  userThemes,\n} from './js/components/themeSwitcher';\nimport { onBurgerMenuClick } from './js/components/mobileMenu';\nimport { initProjectItems } from './js/components/projects';\nimport { swiperLogic } from './js/components/reviews';\nimport { accordion } from './js/components/accordion';\nimport { refs } from './js/refs/refs';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  initProjectItems();\n  swiperLogic();\n  accordion();\n  userThemes();\n});\n\nrefs.burgerMenuBtn.addEventListener('click', onBurgerMenuClick);\nrefs.contactForm.addEventListener('input', onContactFormInput);\nrefs.contactForm.addEventListener('submit', onContactFormSubmit);\nrefs.themeSwitchBtn.addEventListener('click', onThemeSwitchBtnClick);\n"],"names":["axios","getReviews","error","sendContactForm","data","refs","onContactFormSubmit","event","form","emailValue","messageValue","isEmailValid","isMessageValid","modalOverlayClose","onHandleEscapeKey","iziToast","onContactFormInput","input","closeModal","onThemeSwitchBtnClick","target","theme","applyTheme","userThemes","savedTheme","onBurgerMenuClick","onMenuOverlayClick","removeClass","createReviewMarkup","author","avatar_url","review","createProjectMarkup","title","url1","url2","technologies","renderMarkup","markup","renderProjectsMarkup","startIndex","endIndex","initProjectItems","projects","onLoadMoreBtnClick","item","initSwiper","Swiper","Navigation","Keyboard","swiperLogic","accordion","li","check"],"mappings":"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"}